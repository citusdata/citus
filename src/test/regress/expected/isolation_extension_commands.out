Parsed test spec with 2 sessions

starting permutation: s1-begin s1-add-node-1 s2-create-extension-version-11 s1-commit s1-print
?column?       

1              
step s1-begin: 
	BEGIN;

step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-create-extension-version-11: 
	CREATE extension seg VERSION "1.1";
 <waiting ...>
step s1-commit: 
	COMMIT;

step s2-create-extension-version-11: <... completed>
step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

1              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.1            public         
run_command_on_workers

(localhost,57637,t,seg)
(localhost,57638,t,seg)
run_command_on_workers

(localhost,57637,t,1.1)
(localhost,57638,t,1.1)
run_command_on_workers

(localhost,57637,t,public)
(localhost,57638,t,public)
master_remove_node

               
               

starting permutation: s1-begin s1-add-node-1 s2-alter-extension-update-to-version-12 s1-commit s1-print
?column?       

1              
step s1-begin: 
	BEGIN;

step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-alter-extension-update-to-version-12: 
	ALTER extension seg update to "1.2";
 <waiting ...>
step s1-commit: 
	COMMIT;

step s2-alter-extension-update-to-version-12: <... completed>
step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

1              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.2            public         
run_command_on_workers

(localhost,57637,t,seg)
(localhost,57638,t,seg)
run_command_on_workers

(localhost,57637,t,1.2)
(localhost,57638,t,1.2)
run_command_on_workers

(localhost,57637,t,public)
(localhost,57638,t,public)
master_remove_node

               
               

starting permutation: s1-add-node-1 s1-begin s1-remove-node-1 s2-drop-extension s1-commit s1-print
?column?       

1              
step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s1-begin: 
	BEGIN;

step s1-remove-node-1: 
	SELECT 1 FROM master_remove_node('localhost', 57637);

?column?       

1              
step s2-drop-extension: 
	drop extension seg;
 <waiting ...>
step s1-commit: 
	COMMIT;

step s2-drop-extension: <... completed>
step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
master_remove_node

               

starting permutation: s1-begin s1-add-node-1 s2-create-extension-with-schema1 s1-commit s1-print
?column?       

1              
step s1-begin: 
	BEGIN;

step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-create-extension-with-schema1: 
	create schema if not exists schema1;
	CREATE extension seg with schema schema1;

step s1-commit: 
	COMMIT;

step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.3            schema1        
run_command_on_workers

(localhost,57637,t,seg)
(localhost,57638,t,"")
run_command_on_workers

(localhost,57637,t,1.2)
(localhost,57638,t,"")
run_command_on_workers

(localhost,57637,t,public)
(localhost,57638,t,"")
master_remove_node

               
               

starting permutation: s1-begin s1-add-node-1 s2-drop-extension-cascade s1-commit s1-print
?column?       

1              
step s1-begin: 
	BEGIN;

step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-drop-extension-cascade: 
	drop extension seg cascade;

step s1-commit: 
	COMMIT;

step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
run_command_on_workers

(localhost,57637,t,seg)
(localhost,57638,t,"")
run_command_on_workers

(localhost,57637,t,1.2)
(localhost,57638,t,"")
run_command_on_workers

(localhost,57637,t,public)
(localhost,57638,t,"")
master_remove_node

               
               

starting permutation: s1-add-node-1 s1-create-extension-with-schema2 s1-begin s1-remove-node-1 s2-alter-extension-set-schema4 s1-commit s1-print
?column?       

1              
step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s1-create-extension-with-schema2: 
	create schema if not exists schema2;
	CREATE extension seg with schema schema2;

step s1-begin: 
	BEGIN;

step s1-remove-node-1: 
	SELECT 1 FROM master_remove_node('localhost', 57637);

?column?       

1              
step s2-alter-extension-set-schema4: 
	CREATE schema if not exists schema4;
	alter extension seg set schema schema4;
 <waiting ...>
step s1-commit: 
	COMMIT;

step s2-alter-extension-set-schema4: <... completed>
error in steps s1-commit s2-alter-extension-set-schema4: ERROR:  extension "seg" does not exist
step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.3            schema2        
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
master_remove_node

               

starting permutation: s1-add-node-1 s1-begin s1-remove-node-1 s2-create-extension-with-schema1 s1-commit s1-print
?column?       

1              
step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s1-begin: 
	BEGIN;

step s1-remove-node-1: 
	SELECT 1 FROM master_remove_node('localhost', 57637);

?column?       

1              
step s2-create-extension-with-schema1: 
	create schema if not exists schema1;
	CREATE extension seg with schema schema1;

ERROR:  extension "seg" already exists
step s1-commit: 
	COMMIT;

step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.3            schema2        
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
master_remove_node

               

starting permutation: s2-drop-extension s2-begin s2-create-extension-version-11 s1-add-node-1 s2-commit s1-print
?column?       

1              
step s2-drop-extension: 
	drop extension seg;

step s2-begin: 
	BEGIN;

step s2-create-extension-version-11: 
	CREATE extension seg VERSION "1.1";

step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-commit: 
	COMMIT;

step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.1            public         
run_command_on_workers

(localhost,57637,t,seg)
(localhost,57638,t,"")
run_command_on_workers

(localhost,57637,t,1.2)
(localhost,57638,t,"")
run_command_on_workers

(localhost,57637,t,public)
(localhost,57638,t,"")
master_remove_node

               
               

starting permutation: s2-drop-extension s2-create-extension-version-11 s2-begin s2-alter-extension-update-to-version-12 s1-add-node-1 s2-commit s1-print
?column?       

1              
step s2-drop-extension: 
	drop extension seg;

step s2-create-extension-version-11: 
	CREATE extension seg VERSION "1.1";

step s2-begin: 
	BEGIN;

step s2-alter-extension-update-to-version-12: 
	ALTER extension seg update to "1.2";

step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);
 <waiting ...>
step s2-commit: 
	COMMIT;

step s1-add-node-1: <... completed>
?column?       

1              
step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

1              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.2            public         
run_command_on_workers

(localhost,57637,t,seg)
(localhost,57638,t,seg)
run_command_on_workers

(localhost,57637,t,1.2)
(localhost,57638,t,1.2)
run_command_on_workers

(localhost,57637,t,public)
(localhost,57638,t,public)
master_remove_node

               
               

starting permutation: s2-add-node-1 s2-begin s2-drop-extension s1-remove-node-1 s2-commit s1-print
?column?       

1              
step s2-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-begin: 
	BEGIN;

step s2-drop-extension: 
	drop extension seg;

step s1-remove-node-1: 
	SELECT 1 FROM master_remove_node('localhost', 57637);
 <waiting ...>
step s2-commit: 
	COMMIT;

step s1-remove-node-1: <... completed>
?column?       

1              
step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
master_remove_node

               

starting permutation: s2-begin s2-create-extension-with-schema1 s1-add-node-1 s2-commit s1-print
?column?       

1              
step s2-begin: 
	BEGIN;

step s2-create-extension-with-schema1: 
	create schema if not exists schema1;
	CREATE extension seg with schema schema1;

step s1-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-commit: 
	COMMIT;

step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.3            schema1        
run_command_on_workers

(localhost,57637,t,"")
(localhost,57638,t,"")
run_command_on_workers

(localhost,57637,t,"")
(localhost,57638,t,"")
run_command_on_workers

(localhost,57637,t,"")
(localhost,57638,t,"")
master_remove_node

               
               

starting permutation: s2-add-node-1 s2-drop-extension-cascade s2-create-extension-with-schema2 s2-begin s2-alter-extension-version-13 s1-remove-node-1 s2-commit s1-print
?column?       

1              
step s2-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-drop-extension-cascade: 
	drop extension seg cascade;

step s2-create-extension-with-schema2: 
	create schema if not exists schema2;
	CREATE extension seg with schema schema2;

step s2-begin: 
	BEGIN;

step s2-alter-extension-version-13: 
	ALTER extension seg update to "1.3";

ERROR:  extension "seg" does not exist
step s1-remove-node-1: 
	SELECT 1 FROM master_remove_node('localhost', 57637);

?column?       

1              
step s2-commit: 
	COMMIT;

step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.3            schema2        
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
master_remove_node

               

starting permutation: s2-drop-extension s2-add-node-1 s2-begin s2-create-extension-version-11 s1-remove-node-1 s2-commit s1-print
?column?       

1              
step s2-drop-extension: 
	drop extension seg;

step s2-add-node-1: 
	SELECT 1 FROM master_add_node('localhost', 57637);

?column?       

1              
step s2-begin: 
	BEGIN;

step s2-create-extension-version-11: 
	CREATE extension seg VERSION "1.1";

step s1-remove-node-1: 
	SELECT 1 FROM master_remove_node('localhost', 57637);

?column?       

1              
step s2-commit: 
	COMMIT;

step s1-print: 
	select count(*) from citus.pg_dist_object ;
	select extname, extversion, nspname from pg_extension, pg_namespace where pg_namespace.oid=pg_extension.extnamespace order by 1,2,3;
	SELECT run_command_on_workers($$select extname from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select extversion from pg_extension where extname='seg'$$);
	SELECT run_command_on_workers($$select nspname from pg_extension, pg_namespace where extname='seg' and pg_extension.extnamespace=pg_namespace.oid$$);

count          

0              
extname        extversion     nspname        

citus          9.1-1          pg_catalog     
plpgsql        1.0            pg_catalog     
seg            1.1            public         
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
run_command_on_workers

(localhost,57638,t,"")
master_remove_node

               
